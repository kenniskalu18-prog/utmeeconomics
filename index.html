<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UTME ECONOMICS A-SERIES Quiz</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #1565C0, #1976D2, #1E88E5);
            color: #333;
            min-height: 100vh;
            padding: 20px;
            background-attachment: fixed;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .header-container {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 30px;
            padding: 20px;
            background: rgba(255, 255, 255, 0.97);
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.25);
            position: relative;
            overflow: hidden;
        }
        
        .logo-section {
            display: flex;
            align-items: center;
            gap: 20px;
        }
        
        .logo {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            object-fit: cover;
            border: 4px solid #1565C0;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }
        
        .brand-title {
            display: flex;
            flex-direction: column;
        }
        
        h1 {
            color: #1565C0;
            font-size: 2.2rem;
            margin-bottom: 5px;
            background: linear-gradient(to right, #1565C0, #1976D2);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }
        
        .series-tag {
            display: inline-block;
            background: linear-gradient(to right, #FF9800, #F57C00);
            color: white;
            padding: 5px 15px;
            border-radius: 20px;
            font-weight: bold;
            font-size: 1.2rem;
            margin-bottom: 10px;
            align-self: flex-start;
        }
        
        .subject {
            color: #F57C00;
            font-weight: bold;
            font-size: 1.3rem;
            margin-top: 5px;
        }
        
        .contact-info {
            text-align: right;
            padding: 10px;
            background: rgba(21, 101, 192, 0.1);
            border-radius: 10px;
        }
        
        .contact-info p {
            color: #1565C0;
            font-weight: 600;
            margin-bottom: 5px;
        }
        
        .whatsapp-number {
            color: #25D366;
            font-weight: bold;
            font-size: 1.1rem;
        }
        
        .subtitle {
            color: #555;
            font-size: 1.1rem;
            margin-top: 10px;
        }
        
        .floating-icons {
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            pointer-events: none;
        }
        
        .floating-icons i {
            position: absolute;
            color: rgba(21, 101, 192, 0.15);
            font-size: 28px;
            animation: float 8s ease-in-out infinite;
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0) rotate(0deg); }
            50% { transform: translateY(-25px) rotate(15deg); }
        }
        
        .quiz-selector {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
            margin-bottom: 30px;
        }
        
        .quiz-btn {
            background: linear-gradient(145deg, rgba(255, 255, 255, 0.95), rgba(255, 255, 255, 0.85));
            border: none;
            border-radius: 15px;
            padding: 30px 25px;
            text-align: center;
            cursor: pointer;
            transition: all 0.4s ease;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            position: relative;
            overflow: hidden;
            border: 3px solid transparent;
            background-clip: padding-box;
        }
        
        .quiz-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            border-radius: 15px;
            padding: 3px;
            background: linear-gradient(145deg, #1565C0, #1976D2);
            -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
            -webkit-mask-composite: xor;
            mask-composite: exclude;
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        
        .quiz-btn:hover {
            transform: translateY(-12px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.25);
        }
        
        .quiz-btn:hover::before {
            opacity: 1;
        }
        
        .quiz-btn i {
            font-size: 3rem;
            margin-bottom: 20px;
            background: linear-gradient(to right, #1565C0, #1976D2);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }
        
        .quiz-btn h3 {
            color: #1565C0;
            margin-bottom: 15px;
            font-size: 1.7rem;
        }
        
        .quiz-btn p {
            color: #666;
            font-size: 1rem;
            line-height: 1.5;
        }
        
        .quiz-count {
            position: absolute;
            top: 15px;
            right: 15px;
            background: linear-gradient(to right, #FF9800, #F57C00);
            color: white;
            padding: 5px 12px;
            border-radius: 20px;
            font-weight: bold;
            font-size: 0.9rem;
        }
        
        .quiz-container {
            background: rgba(255, 255, 255, 0.97);
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.2);
            display: none;
            margin-bottom: 30px;
        }
        
        .quiz-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 25px;
            padding-bottom: 20px;
            border-bottom: 3px solid #eee;
        }
        
        .quiz-title {
            font-size: 1.9rem;
            color: #1565C0;
        }
        
        .quiz-progress {
            display: flex;
            flex-direction: column;
            align-items: flex-end;
        }
        
        .question-number {
            font-size: 1.2rem;
            color: #555;
            margin-bottom: 10px;
            font-weight: 600;
        }
        
        .progress-bar {
            width: 200px;
            height: 12px;
            background-color: #e0e0e0;
            border-radius: 10px;
            overflow: hidden;
        }
        
        .progress {
            height: 100%;
            background: linear-gradient(to right, #1565C0, #1976D2);
            width: 0%;
            transition: width 0.5s ease;
            border-radius: 10px;
        }
        
        .question {
            background: linear-gradient(145deg, #f8f9fa, #e9ecef);
            padding: 25px;
            border-radius: 12px;
            margin-bottom: 30px;
            border-left: 6px solid #1976D2;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.08);
        }
        
        .question-text {
            font-size: 1.3rem;
            line-height: 1.6;
            margin-bottom: 10px;
            color: #333;
            font-weight: 500;
        }
        
        .question-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 3px 10px rgba(0,0,0,0.08);
        }
        
        .question-table th {
            background: #1976D2;
            color: white;
            padding: 12px;
            text-align: center;
        }
        
        .question-table td {
            padding: 12px;
            text-align: center;
            border-bottom: 1px solid #eee;
        }
        
        .question-table tr:last-child td {
            border-bottom: none;
        }
        
        .question-year {
            display: inline-block;
            background: linear-gradient(to right, #1565C0, #1976D2);
            color: white;
            padding: 6px 15px;
            border-radius: 20px;
            font-size: 0.9rem;
            margin-bottom: 20px;
            font-weight: bold;
        }
        
        .options {
            display: grid;
            grid-template-columns: 1fr;
            gap: 15px;
        }
        
        @media (min-width: 768px) {
            .options {
                grid-template-columns: 1fr 1fr;
            }
        }
        
        .option {
            background: white;
            border: 2px solid #ddd;
            border-radius: 12px;
            padding: 18px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.05);
        }
        
        .option:hover {
            background: #f0f7ff;
            border-color: #1565C0;
            transform: translateY(-3px);
            box-shadow: 0 8px 15px rgba(21, 101, 192, 0.1);
        }
        
        .option.selected {
            background: #e6f7ff;
            border-color: #1976D2;
        }
        
        .option.correct {
            background: #e7f7e7;
            border-color: #4CAF50;
        }
        
        .option.incorrect {
            background: #ffe6e6;
            border-color: #f44336;
        }
        
        .option-label {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 35px;
            height: 35px;
            background: #eee;
            border-radius: 50%;
            margin-right: 20px;
            font-weight: bold;
            color: #555;
            flex-shrink: 0;
            font-size: 1.1rem;
        }
        
        .option.selected .option-label {
            background: #1976D2;
            color: white;
        }
        
        .option.correct .option-label {
            background: #4CAF50;
            color: white;
        }
        
        .option.incorrect .option-label {
            background: #f44336;
            color: white;
        }
        
        .quiz-controls {
            display: flex;
            justify-content: space-between;
            margin-top: 40px;
        }
        
        .btn {
            padding: 14px 30px;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            font-size: 1rem;
        }
        
        .btn-prev {
            background: #f8f9fa;
            color: #555;
            border: 2px solid #ddd;
        }
        
        .btn-prev:hover {
            background: #e9ecef;
            transform: translateY(-3px);
        }
        
        .btn-next {
            background: linear-gradient(to right, #1565C0, #1976D2);
            color: white;
        }
        
        .btn-next:hover {
            transform: translateY(-3px) scale(1.05);
            box-shadow: 0 10px 20px rgba(21, 101, 192, 0.3);
        }
        
        .btn-submit {
            background: linear-gradient(to right, #4CAF50, #2E7D32);
            color: white;
        }
        
        .btn-submit:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(76, 175, 80, 0.3);
        }
        
        .btn-return {
            background: #f8f9fa;
            color: #555;
            border: 2px solid #ddd;
            margin-right: 15px;
        }
        
        .btn-return:hover {
            background: #e9ecef;
            transform: translateY(-3px);
        }
        
        .result-container {
            background: rgba(255, 255, 255, 0.97);
            border-radius: 15px;
            padding: 35px;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.2);
            display: none;
            margin-bottom: 30px;
        }
        
        .result-header {
            text-align: center;
            margin-bottom: 35px;
        }
        
        .result-title {
            font-size: 2.3rem;
            color: #1565C0;
            margin-bottom: 15px;
        }
        
        .score-container {
            display: flex;
            justify-content: center;
            align-items: center;
            margin-bottom: 40px;
        }
        
        .score-circle {
            width: 200px;
            height: 200px;
            border-radius: 50%;
            background: linear-gradient(135deg, #1565C0, #1976D2);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            color: white;
            box-shadow: 0 15px 35px rgba(21, 101, 192, 0.3);
            position: relative;
            overflow: hidden;
        }
        
        .score-circle::before {
            content: '';
            position: absolute;
            width: 180px;
            height: 180px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.1);
        }
        
        .score-value {
            font-size: 3.8rem;
            font-weight: bold;
            z-index: 1;
        }
        
        .score-label {
            font-size: 1.3rem;
            opacity: 0.9;
            z-index: 1;
        }
        
        .result-details {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 25px;
            margin-bottom: 40px;
        }
        
        .strengths, .weaknesses {
            background: linear-gradient(145deg, #f8f9fa, #e9ecef);
            padding: 25px;
            border-radius: 12px;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.08);
        }
        
        .result-section-title {
            font-size: 1.5rem;
            color: #1565C0;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 2px solid #eee;
        }
        
        .topic-list {
            list-style-type: none;
        }
        
        .topic-list li {
            padding: 12px 0;
            border-bottom: 1px dashed #ddd;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .topic-list li:last-child {
            border-bottom: none;
        }
        
        .topic-score {
            background: #1565C0;
            color: white;
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: bold;
        }
        
        .feedback-container {
            margin-top: 40px;
        }
        
        .feedback-title {
            font-size: 1.6rem;
            color: #1565C0;
            margin-bottom: 25px;
            text-align: center;
            padding-bottom: 15px;
            border-bottom: 2px solid #eee;
        }
        
        .feedback-item {
            background: #f8f9fa;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 20px;
            border-left: 5px solid #1976D2;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
        }
        
        .feedback-question {
            font-weight: bold;
            margin-bottom: 12px;
            color: #333;
            font-size: 1.1rem;
        }
        
        .feedback-answer {
            margin-bottom: 8px;
            color: #555;
            line-height: 1.5;
        }
        
        .feedback-correct {
            color: #4CAF50;
            font-weight: bold;
        }
        
        .feedback-incorrect {
            color: #f44336;
            font-weight: bold;
        }
        
        footer {
            text-align: center;
            padding: 25px;
            color: white;
            margin-top: 30px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            backdrop-filter: blur(10px);
        }
        
        .footer-contact {
            margin-top: 15px;
            font-size: 1.1rem;
        }
        
        .footer-contact a {
            color: #25D366;
            text-decoration: none;
            font-weight: bold;
        }
        
        /* Responsive adjustments */
        @media (max-width: 992px) {
            .header-container {
                flex-direction: column;
                text-align: center;
                gap: 20px;
            }
            
            .logo-section {
                flex-direction: column;
                text-align: center;
            }
            
            .contact-info {
                text-align: center;
                width: 100%;
            }
            
            .quiz-progress {
                align-items: flex-start;
                margin-top: 15px;
            }
        }
        
        @media (max-width: 768px) {
            h1 {
                font-size: 1.9rem;
            }
            
            .quiz-btn h3 {
                font-size: 1.5rem;
            }
            
            .quiz-container, .result-container {
                padding: 20px;
            }
            
            .quiz-title {
                font-size: 1.6rem;
            }
            
            .question-text {
                font-size: 1.2rem;
            }
            
            .score-circle {
                width: 170px;
                height: 170px;
            }
            
            .score-value {
                font-size: 3rem;
            }
            
            .result-details {
                grid-template-columns: 1fr;
            }
            
            .quiz-controls {
                flex-direction: column;
                gap: 15px;
            }
            
            .btn {
                width: 100%;
                margin-bottom: 10px;
            }
        }
        
        @media (max-width: 480px) {
            h1 {
                font-size: 1.7rem;
            }
            
            .quiz-selector {
                grid-template-columns: 1fr;
            }
            
            .question {
                padding: 20px;
            }
            
            .option {
                padding: 15px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header-container">
            <div class="floating-icons">
                <i class="fas fa-chart-line" style="top: 15%; left: 5%; animation-delay: 0s;"></i>
                <i class="fas fa-money-bill-wave" style="top: 10%; right: 10%; animation-delay: 1s;"></i>
                <i class="fas fa-balance-scale" style="bottom: 25%; left: 8%; animation-delay: 2s;"></i>
                <i class="fas fa-globe" style="bottom: 15%; right: 12%; animation-delay: 3s;"></i>
                <i class="fas fa-industry" style="top: 60%; left: 5%; animation-delay: 4s;"></i>
                <i class="fas fa-chart-bar" style="top: 70%; right: 8%; animation-delay: 5s;"></i>
                <i class="fas fa-percentage" style="top: 40%; left: 15%; animation-delay: 6s;"></i>
                <i class="fas fa-university" style="top: 50%; right: 20%; animation-delay: 7s;"></i>
            </div>
            
            <div class="logo-section">
                <img src="https://i.ibb.co/fG99dRGn/IMG-20260117-090402.jpg" alt="A-SERIES Logo" class="logo">
                <div class="brand-title">
                    <div class="series-tag">A-SERIES</div>
                    <h1>UTME ECONOMICS QUIZ MASTER</h1>
                    <div class="subject">Comprehensive Economics Preparation</div>
                    <p class="subtitle">Master all aspects of UTME Economics examination</p>
                </div>
            </div>
            
            <div class="contact-info">
                <p>Need help? Contact us on WhatsApp:</p>
                <div class="whatsapp-number">+234 818 013 3618</div>
                <div class="whatsapp-number">+234 916 938 4267</div>
            </div>
        </div>
        
        <div class="quiz-selector" id="quizSelector">
            <div class="quiz-btn" data-quiz="1">
                <div class="quiz-count">22 Questions</div>
                <i class="fas fa-balance-scale"></i>
                <h3>Section A: Basic Concepts & Microeconomics</h3>
                <p>Covers scarcity, demand, supply, elasticity, consumer behavior, production, costs, and market structures.</p>
            </div>
            <div class="quiz-btn" data-quiz="2">
                <div class="quiz-count">10 Questions</div>
                <i class="fas fa-chart-line"></i>
                <h3>Section B: Macroeconomics & Public Finance</h3>
                <p>Focuses on national income, money, inflation, financial institutions, and fiscal policy.</p>
            </div>
            <div class="quiz-btn" data-quiz="3">
                <div class="quiz-count">8 Questions</div>
                <i class="fas fa-globe"></i>
                <h3>Section C: Nigerian Economy & International Trade</h3>
                <p>Tests agriculture, industry, population, international trade, and international organizations.</p>
            </div>
        </div>
        
        <div class="quiz-container" id="quizContainer">
            <div class="quiz-header">
                <h2 class="quiz-title" id="quizTitle">Section A: Basic Concepts & Microeconomics</h2>
                <div class="quiz-progress">
                    <div class="question-number" id="questionNumber">Question 1 of 22</div>
                    <div class="progress-bar">
                        <div class="progress" id="progressBar"></div>
                    </div>
                </div>
            </div>
            
            <div class="question">
                <span class="question-year" id="questionYear">JAMB 2025</span>
                <p class="question-text" id="questionText"></p>
                <div id="passageText" class="passage-text"></div>
                <div id="questionTable"></div>
            </div>
            
            <div class="options" id="optionsContainer">
                <!-- Options will be generated here -->
            </div>
            
            <div class="quiz-controls">
                <button class="btn btn-prev" id="prevBtn">Previous Question</button>
                <div>
                    <button class="btn btn-return" id="returnBtn">Return to Menu</button>
                    <button class="btn btn-next" id="nextBtn">Next Question</button>
                    <button class="btn btn-submit" id="submitBtn" style="display: none;">Submit Quiz</button>
                </div>
            </div>
        </div>
        
        <div class="result-container" id="resultContainer">
            <div class="result-header">
                <h2 class="result-title" id="resultTitle">Quiz Results</h2>
                <p>Detailed analysis of your performance</p>
            </div>
            
            <div class="score-container">
                <div class="score-circle">
                    <div class="score-value" id="scoreValue">0%</div>
                    <div class="score-label">Your Score</div>
                </div>
            </div>
            
            <div class="result-details">
                <div class="strengths">
                    <h3 class="result-section-title">Your Strengths</h3>
                    <ul class="topic-list" id="strengthsList">
                        <!-- Strengths will be added here -->
                    </ul>
                </div>
                
                <div class="weaknesses">
                    <h3 class="result-section-title">Areas for Improvement</h3>
                    <ul class="topic-list" id="weaknessesList">
                        <!-- Weaknesses will be added here -->
                    </ul>
                </div>
            </div>
            
            <div class="feedback-container" id="feedbackContainer">
                <h3 class="feedback-title">Question Feedback</h3>
                <!-- Feedback will be added here -->
            </div>
            
            <div style="text-align: center; margin-top: 40px;">
                <button class="btn btn-return" id="returnToMenuBtn">Return to Quiz Menu</button>
            </div>
        </div>
        
        <footer>
            <p>UTME ECONOMICS A-SERIES Quiz System &copy; 2023 | Based on UTME Economics Syllabus</p>
            <div class="footer-contact">
                <p>For inquiries: 
                    <a href="https://wa.me/2348180133618" target="_blank">+234 818 013 3618</a> | 
                    <a href="https://wa.me/2349169384267" target="_blank">+234 916 938 4267</a>
                </p>
            </div>
            <p>Designed to help you excel in your UTME Economics examination</p>
        </footer>
    </div>

    <script>
        // Economics quiz data - 3 quizzes with all 40 questions from the document
        const quizzes = {
            1: {
                title: "Basic Concepts & Microeconomics",
                questions: [
                    {
                        year: "JAMB 2025",
                        text: "The concept that best explains why individuals and societies must make choices is:",
                        options: [
                            "Scale of preference",
                            "Scarcity",
                            "Opportunity cost",
                            "Rationality"
                        ],
                        correct: 1,
                        explanation: "Scarcity is the fundamental economic problem that forces individuals and societies to make choices because resources are limited relative to unlimited wants.",
                        topic: "Basic Concepts"
                    },
                    {
                        year: "JAMB 2024",
                        text: "A student who decides to attend a tutorial class instead of watching a football match demonstrates the concept of:",
                        options: [
                            "Utility maximization",
                            "Scale of preference",
                            "Opportunity cost",
                            "Consumer surplus"
                        ],
                        correct: 2,
                        explanation: "The opportunity cost is what is forgone (the football match) when a choice is made (attending the tutorial).",
                        topic: "Opportunity Cost"
                    },
                    {
                        year: "JAMB 2023",
                        text: "The Production Possibility Frontier (PPF) curve illustrates all of the following EXCEPT:",
                        options: [
                            "Scarcity of resources",
                            "Opportunity cost",
                            "Consumer equilibrium",
                            "Efficiency in production"
                        ],
                        correct: 2,
                        explanation: "The PPF shows scarcity, opportunity cost, and efficiency but does not illustrate consumer equilibrium.",
                        topic: "Production Possibility Frontier"
                    },
                    {
                        year: "JAMB 2022",
                        text: "If the price of a commodity rises and the quantity demanded also rises, this is likely due to:",
                        options: [
                            "An inferior good",
                            "The law of demand",
                            "A Giffen good",
                            "Price elasticity"
                        ],
                        correct: 2,
                        explanation: "For Giffen goods, quantity demanded rises when price rises, violating the law of demand.",
                        topic: "Giffen Goods"
                    },
                    {
                        year: "JAMB 2021",
                        text: "Derived demand refers to:",
                        options: [
                            "Demand for a good that is used to produce another good",
                            "Demand that increases when income increases",
                            "Demand for luxury goods",
                            "Demand that decreases when price falls"
                        ],
                        correct: 0,
                        explanation: "Derived demand is demand for a factor of production that arises from demand for the final product.",
                        topic: "Derived Demand"
                    },
                    {
                        year: "JAMB 2020",
                        text: "Calculate the price elasticity of demand when price falls from ₦100 to ₦80:",
                        table: `
                            <table class="question-table">
                                <thead>
                                    <tr>
                                        <th>Price (₦)</th>
                                        <th>Quantity Demanded</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>100</td>
                                        <td>50</td>
                                    </tr>
                                    <tr>
                                        <td>80</td>
                                        <td>70</td>
                                    </tr>
                                </tbody>
                            </table>
                        `,
                        options: [
                            "0.5",
                            "1.0",
                            "2.0",
                            "2.5"
                        ],
                        correct: 2,
                        explanation: "PED = (% Change in Qd) / (% Change in P) = (20/50) / (20/100) = 0.4 / 0.2 = 2.0",
                        topic: "Price Elasticity"
                    },
                    {
                        year: "JAMB 2019",
                        text: "Based on the elasticity calculated above, demand is:",
                        options: [
                            "Perfectly elastic",
                            "Relatively elastic",
                            "Unitary elastic",
                            "Relatively inelastic"
                        ],
                        correct: 1,
                        explanation: "Since PED = 2.0 > 1, demand is relatively elastic (quantity demanded changes more than proportionally to price).",
                        topic: "Elasticity Types"
                    },
                    {
                        year: "JAMB 2025",
                        text: "When the price of tea increases by 10% and the quantity demanded of coffee increases by 15%, the cross elasticity of demand is:",
                        options: [
                            "-1.5",
                            "0.67",
                            "1.5",
                            "-0.67"
                        ],
                        correct: 2,
                        explanation: "Cross Elasticity = (% Change in Qd of Coffee) / (% Change in Price of Tea) = 15% / 10% = 1.5. Positive cross elasticity indicates tea and coffee are substitutes.",
                        topic: "Cross Elasticity"
                    },
                    {
                        year: "JAMB 2024",
                        text: "A commodity has an income elasticity of demand of -0.8. This means the commodity is:",
                        options: [
                            "A normal good",
                            "An inferior good",
                            "A luxury good",
                            "A necessity"
                        ],
                        correct: 1,
                        explanation: "Negative income elasticity (-0.8) means as income rises, demand falls, which is characteristic of inferior goods.",
                        topic: "Income Elasticity"
                    },
                    {
                        year: "JAMB 2023",
                        text: "What is the marginal utility of the 3rd unit?",
                        table: `
                            <table class="question-table">
                                <thead>
                                    <tr>
                                        <th>Units Consumed</th>
                                        <th>Total Utility (Utils)</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>1</td>
                                        <td>20</td>
                                    </tr>
                                    <tr>
                                        <td>2</td>
                                        <td>36</td>
                                    </tr>
                                    <tr>
                                        <td>3</td>
                                        <td>48</td>
                                    </tr>
                                    <tr>
                                        <td>4</td>
                                        <td>56</td>
                                    </tr>
                                    <tr>
                                        <td>5</td>
                                        <td>60</td>
                                    </tr>
                                </tbody>
                            </table>
                        `,
                        options: [
                            "48",
                            "16",
                            "12",
                            "8"
                        ],
                        correct: 2,
                        explanation: "Marginal Utility = Change in Total Utility. MU of 3rd unit = TU at 3 units - TU at 2 units = 48 - 36 = 12 utils.",
                        topic: "Marginal Utility"
                    },
                    {
                        year: "JAMB 2022",
                        text: "At which unit does diminishing marginal utility begin?",
                        options: [
                            "1st unit",
                            "2nd unit",
                            "3rd unit",
                            "4th unit"
                        ],
                        correct: 1,
                        explanation: "Diminishing marginal utility begins from the 2nd unit: MU of 1st unit = 20, MU of 2nd unit = 16 (↓ diminishing begins), MU of 3rd unit = 12, etc.",
                        topic: "Diminishing Marginal Utility"
                    },
                    {
                        year: "JAMB 2021",
                        text: "If a consumer's income is ₦1,000 and the prices of goods X and Y are ₦50 and ₦100 respectively, the maximum quantity of good X alone the consumer can buy is:",
                        options: [
                            "10 units",
                            "20 units",
                            "50 units",
                            "100 units"
                        ],
                        correct: 1,
                        explanation: "Maximum quantity of X = Income / Price of X = ₦1,000 / ₦50 = 20 units.",
                        topic: "Consumer Budget"
                    },
                    {
                        year: "JAMB 2020",
                        text: "A consumer is in equilibrium when:",
                        options: [
                            "Total utility is at minimum",
                            "Marginal utility equals zero",
                            "The ratio of marginal utility to price is equal for all goods consumed",
                            "Price equals average cost"
                        ],
                        correct: 2,
                        explanation: "Consumer equilibrium: MUx/Px = MUy/Py for all goods.",
                        topic: "Consumer Equilibrium"
                    },
                    {
                        year: "JAMB 2019",
                        text: "Joint supply occurs when:",
                        options: [
                            "Two commodities are produced together from the same source",
                            "Two commodities serve the same purpose",
                            "Increase in the supply of one leads to decrease in the supply of another",
                            "Two goods are consumed together"
                        ],
                        correct: 0,
                        explanation: "Joint supply: two products from one source (e.g., beef and hides from cattle).",
                        topic: "Joint Supply"
                    },
                    {
                        year: "JAMB 2025",
                        text: "What is the marginal product of the 4th worker?",
                        table: `
                            <table class="question-table">
                                <thead>
                                    <tr>
                                        <th>Number of Workers</th>
                                        <th>Total Product (TP)</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>1</td>
                                        <td>10</td>
                                    </tr>
                                    <tr>
                                        <td>2</td>
                                        <td>25</td>
                                    </tr>
                                    <tr>
                                        <td>3</td>
                                        <td>45</td>
                                    </tr>
                                    <tr>
                                        <td>4</td>
                                        <td>60</td>
                                    </tr>
                                    <tr>
                                        <td>5</td>
                                        <td>70</td>
                                    </tr>
                                    <tr>
                                        <td>6</td>
                                        <td>75</td>
                                    </tr>
                                </tbody>
                            </table>
                        `,
                        options: [
                            "60",
                            "20",
                            "15",
                            "10"
                        ],
                        correct: 2,
                        explanation: "Marginal Product = Change in Total Product. MP of 4th worker = TP with 4 workers - TP with 3 workers = 60 - 45 = 15 units.",
                        topic: "Marginal Product"
                    },
                    {
                        year: "JAMB 2024",
                        text: "What is the average product when 3 workers are employed?",
                        options: [
                            "45",
                            "20",
                            "15",
                            "12"
                        ],
                        correct: 2,
                        explanation: "Average Product = Total Product / Number of Workers = 45 / 3 = 15 units.",
                        topic: "Average Product"
                    },
                    {
                        year: "JAMB 2023",
                        text: "The law of variable proportions states that:",
                        options: [
                            "Output increases indefinitely with additional inputs",
                            "Marginal product eventually declines when more of a variable factor is added to fixed factors",
                            "Total product always decreases",
                            "Average product is always constant"
                        ],
                        correct: 1,
                        explanation: "Law of variable proportions: adding more variable factors to fixed factors eventually leads to declining marginal product.",
                        topic: "Law of Variable Proportions"
                    },
                    {
                        year: "JAMB 2022",
                        text: "What is the Average Total Cost (ATC)?",
                        explanation: "A firm has the following cost structure: Fixed Cost = ₦5,000; Variable Cost = ₦3,000; Output = 100 units",
                        options: [
                            "₦30",
                            "₦50",
                            "₦80",
                            "₦800"
                        ],
                        correct: 2,
                        explanation: "Total Cost (TC) = Fixed Cost + Variable Cost = ₦5,000 + ₦3,000 = ₦8,000. Average Total Cost (ATC) = TC / Output = ₦8,000 / 100 = ₦80.",
                        topic: "Average Total Cost"
                    },
                    {
                        year: "JAMB 2021",
                        text: "If the firm produces an additional unit and total cost rises to ₦8,100, what is the Marginal Cost of the 101st unit?",
                        options: [
                            "₦80",
                            "₦100",
                            "₦800",
                            "₦8,100"
                        ],
                        correct: 1,
                        explanation: "Original TC = ₦8,000 (at 100 units); New TC = ₦8,100 (at 101 units). Marginal Cost = Change in TC / Change in Output = (₦8,100 - ₦8,000) / (101 - 100) = ₦100 / 1 = ₦100.",
                        topic: "Marginal Cost"
                    },
                    {
                        year: "JAMB 2020",
                        text: "In the short run, a firm should shut down if:",
                        options: [
                            "Price is less than average total cost",
                            "Price is less than average variable cost",
                            "Marginal revenue exceeds marginal cost",
                            "Normal profit is being earned"
                        ],
                        correct: 1,
                        explanation: "Shutdown rule: A firm shuts down if Price < Average Variable Cost.",
                        topic: "Shutdown Point"
                    },
                    {
                        year: "JAMB 2019",
                        text: "A characteristic of a perfectly competitive market is:",
                        options: [
                            "Product differentiation",
                            "Few sellers",
                            "Price-taking behavior by firms",
                            "High barriers to entry"
                        ],
                        correct: 2,
                        explanation: "In perfect competition, firms are price-takers.",
                        topic: "Perfect Competition"
                    },
                    {
                        year: "JAMB 2025",
                        text: "A monopolist maximizes profit at the output level where:",
                        options: [
                            "Price equals marginal cost",
                            "Marginal revenue equals marginal cost",
                            "Average revenue equals average cost",
                            "Total revenue is maximized"
                        ],
                        correct: 1,
                        explanation: "Profit maximization: MR = MC for all firms including monopolists.",
                        topic: "Monopoly Profit Maximization"
                    }
                ]
            },
            2: {
                title: "Macroeconomics & Public Finance",
                questions: [
                    {
                        year: "JAMB 2024",
                        text: "Calculate the Gross Domestic Product (GDP) of this economy:",
                        explanation: "Consumption (C) = ₦500 billion; Investment (I) = ₦150 billion; Government Spending (G) = ₦200 billion; Exports (X) = ₦100 billion; Imports (M) = ₦120 billion",
                        options: [
                            "₦830 billion",
                            "₦850 billion",
                            "₦950 billion",
                            "₦970 billion"
                        ],
                        correct: 0,
                        explanation: "GDP = C + I + G + (X - M) = ₦500 + ₦150 + ₦200 + (₦100 - ₦120) = ₦500 + ₦150 + ₦200 + (-₦20) = ₦830 billion.",
                        topic: "GDP Calculation"
                    },
                    {
                        year: "JAMB 2023",
                        text: "What is the net export value for this economy?",
                        options: [
                            "₦220 billion",
                            "₦100 billion",
                            "₦20 billion",
                            "-₦20 billion"
                        ],
                        correct: 3,
                        explanation: "Net Exports = Exports - Imports = ₦100 - ₦120 = -₦20 billion. (Negative value indicates trade deficit)",
                        topic: "Net Exports"
                    },
                    {
                        year: "JAMB 2022",
                        text: "If GDP is ₦10 trillion and depreciation is ₦1.5 trillion, the Net Domestic Product (NDP) is:",
                        options: [
                            "₦11.5 trillion",
                            "₦10 trillion",
                            "₦8.5 trillion",
                            "₦1.5 trillion"
                        ],
                        correct: 2,
                        explanation: "NDP = GDP - Depreciation = ₦10 trillion - ₦1.5 trillion = ₦8.5 trillion.",
                        topic: "Net Domestic Product"
                    },
                    {
                        year: "JAMB 2021",
                        text: "Transfer payments such as pensions and scholarships are excluded from national income calculation because they:",
                        options: [
                            "Are too small to count",
                            "Do not represent payment for current production",
                            "Are paid by the government",
                            "Are received by the poor"
                        ],
                        correct: 1,
                        explanation: "Transfer payments don't represent current production, just redistribution.",
                        topic: "Transfer Payments"
                    },
                    {
                        year: "JAMB 2020",
                        text: "Inflation caused by an increase in production costs is known as:",
                        options: [
                            "Demand-pull inflation",
                            "Cost-push inflation",
                            "Imported inflation",
                            "Structural inflation"
                        ],
                        correct: 1,
                        explanation: "Cost-push inflation: rising production costs push up prices.",
                        topic: "Cost-push Inflation"
                    },
                    {
                        year: "JAMB 2019",
                        text: "The primary function of a central bank is to:",
                        options: [
                            "Accept deposits from the public",
                            "Regulate and supervise the banking system",
                            "Provide loans to individuals",
                            "Engage in foreign trade"
                        ],
                        correct: 1,
                        explanation: "Central bank's primary function is regulating the banking system.",
                        topic: "Central Bank Functions"
                    },
                    {
                        year: "JAMB 2025",
                        text: "Open Market Operations (OMO) refer to:",
                        options: [
                            "Trading of goods in international markets",
                            "Central bank's buying and selling of government securities",
                            "Commercial banks lending to each other",
                            "Foreign exchange transactions"
                        ],
                        correct: 1,
                        explanation: "OMO: Central bank buys/sells government securities to control money supply.",
                        topic: "Open Market Operations"
                    },
                    {
                        year: "JAMB 2024",
                        text: "A tax that takes a larger percentage of income from higher-income earners is called:",
                        options: [
                            "Regressive tax",
                            "Progressive tax",
                            "Proportional tax",
                            "Value-added tax"
                        ],
                        correct: 1,
                        explanation: "Progressive tax: higher income earners pay higher percentage.",
                        topic: "Progressive Tax"
                    },
                    {
                        year: "JAMB 2023",
                        text: "If a government's revenue is ₦8 trillion and expenditure is ₦10 trillion, the budget position is:",
                        options: [
                            "₦2 trillion surplus",
                            "₦2 trillion deficit",
                            "₦18 trillion deficit",
                            "Balanced budget"
                        ],
                        correct: 1,
                        explanation: "Budget Position = Revenue - Expenditure = ₦8 trillion - ₦10 trillion = -₦2 trillion. Negative value indicates a budget deficit of ₦2 trillion.",
                        topic: "Budget Deficit"
                    },
                    {
                        year: "JAMB 2022",
                        text: "Fiscal policy involves the use of:",
                        options: [
                            "Interest rates and money supply",
                            "Government spending and taxation",
                            "Exchange rate manipulation",
                            "Import and export controls"
                        ],
                        correct: 1,
                        explanation: "Fiscal policy uses government spending and taxation.",
                        topic: "Fiscal Policy"
                    }
                ]
            },
            3: {
                title: "Nigerian Economy & International Trade",
                questions: [
                    {
                        year: "JAMB 2021",
                        text: "Agriculture is important to the Nigerian economy for all of the following reasons EXCEPT:",
                        options: [
                            "Provision of raw materials for industries",
                            "Employment generation",
                            "Contribution to foreign exchange earnings",
                            "Manufacturing of industrial machinery"
                        ],
                        correct: 3,
                        explanation: "Agriculture doesn't manufacture machinery; that's manufacturing sector's role.",
                        topic: "Agriculture in Nigeria"
                    },
                    {
                        year: "JAMB 2020",
                        text: "A major problem facing agricultural development in Nigeria is:",
                        options: [
                            "Excess mechanization",
                            "Over-utilization of fertilizers",
                            "Inadequate storage and processing facilities",
                            "Too much government investment"
                        ],
                        correct: 2,
                        explanation: "Inadequate storage/processing facilities cause post-harvest losses.",
                        topic: "Agricultural Problems"
                    },
                    {
                        year: "JAMB 2019",
                        text: "Localization of industries refers to:",
                        options: [
                            "Spreading industries across all regions",
                            "Concentration of industries in a particular area",
                            "Nationalizing all industries",
                            "Closing down industries"
                        ],
                        correct: 1,
                        explanation: "Localization: concentration of similar industries in one area.",
                        topic: "Localization of Industries"
                    },
                    {
                        year: "JAMB 2025",
                        text: "What is the Terms of Trade for 2024?",
                        table: `
                            <table class="question-table">
                                <thead>
                                    <tr>
                                        <th>Year</th>
                                        <th>Export Price Index</th>
                                        <th>Import Price Index</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>2024</td>
                                        <td>120</td>
                                        <td>100</td>
                                    </tr>
                                    <tr>
                                        <td>2025</td>
                                        <td>150</td>
                                        <td>125</td>
                                    </tr>
                                </tbody>
                            </table>
                        `,
                        options: [
                            "80",
                            "100",
                            "120",
                            "220"
                        ],
                        correct: 2,
                        explanation: "Terms of Trade = (Export Price Index / Import Price Index) × 100 = (120 / 100) × 100 = 120.",
                        topic: "Terms of Trade"
                    },
                    {
                        year: "JAMB 2024",
                        text: "What is the Terms of Trade for 2025?",
                        options: [
                            "83.3",
                            "100",
                            "120",
                            "275"
                        ],
                        correct: 2,
                        explanation: "Terms of Trade = (Export Price Index / Import Price Index) × 100 = (150 / 125) × 100 = 120.",
                        topic: "Terms of Trade Calculation"
                    },
                    {
                        year: "JAMB 2023",
                        text: "A country is said to have a balance of payments deficit when:",
                        options: [
                            "Exports exceed imports",
                            "Total payments to foreigners exceed total receipts from foreigners",
                            "Government revenue exceeds expenditure",
                            "Savings exceed investment"
                        ],
                        correct: 1,
                        explanation: "BOP deficit: total payments to foreigners exceed total receipts.",
                        topic: "Balance of Payments"
                    },
                    {
                        year: "JAMB 2022",
                        text: "ECOWAS was primarily established to:",
                        options: [
                            "Promote political unity in Africa",
                            "Promote economic integration among West African states",
                            "Provide military assistance to member states",
                            "Control oil prices in the region"
                        ],
                        correct: 1,
                        explanation: "ECOWAS promotes economic integration in West Africa.",
                        topic: "ECOWAS"
                    },
                    {
                        year: "JAMB 2021",
                        text: "The World Bank primarily provides:",
                        options: [
                            "Short-term loans for balance of payments problems",
                            "Long-term loans for development projects",
                            "Grants for humanitarian aid only",
                            "Currency exchange services"
                        ],
                        correct: 1,
                        explanation: "World Bank provides long-term development loans; IMF handles short-term BOP issues.",
                        topic: "World Bank"
                    }
                ]
            }
        };

        // App state
        let currentQuiz = 0;
        let currentQuestion = 0;
        let userAnswers = [];
        let quizStarted = false;

        // DOM elements
        const quizSelector = document.getElementById('quizSelector');
        const quizContainer = document.getElementById('quizContainer');
        const resultContainer = document.getElementById('resultContainer');
        const quizTitle = document.getElementById('quizTitle');
        const questionNumber = document.getElementById('questionNumber');
        const progressBar = document.getElementById('progressBar');
        const questionYear = document.getElementById('questionYear');
        const questionText = document.getElementById('questionText');
        const passageText = document.getElementById('passageText');
        const questionTable = document.getElementById('questionTable');
        const optionsContainer = document.getElementById('optionsContainer');
        const prevBtn = document.getElementById('prevBtn');
        const nextBtn = document.getElementById('nextBtn');
        const submitBtn = document.getElementById('submitBtn');
        const returnBtn = document.getElementById('returnBtn');
        const returnToMenuBtn = document.getElementById('returnToMenuBtn');
        const resultTitle = document.getElementById('resultTitle');
        const scoreValue = document.getElementById('scoreValue');
        const strengthsList = document.getElementById('strengthsList');
        const weaknessesList = document.getElementById('weaknessesList');
        const feedbackContainer = document.getElementById('feedbackContainer');

        // Initialize the app
        function initApp() {
            // Add event listeners to quiz selection buttons
            document.querySelectorAll('.quiz-btn').forEach(btn => {
                btn.addEventListener('click', () => {
                    const quizId = parseInt(btn.getAttribute('data-quiz'));
                    startQuiz(quizId);
                });
            });
            
            // Add event listeners to navigation buttons
            prevBtn.addEventListener('click', showPreviousQuestion);
            nextBtn.addEventListener('click', showNextQuestion);
            submitBtn.addEventListener('click', submitQuiz);
            returnBtn.addEventListener('click', returnToMenu);
            returnToMenuBtn.addEventListener('click', returnToMenu);
            
            // Initially show the quiz selector
            quizSelector.style.display = 'grid';
            quizContainer.style.display = 'none';
            resultContainer.style.display = 'none';
        }

        // Start a quiz
        function startQuiz(quizId) {
            currentQuiz = quizId;
            currentQuestion = 0;
            userAnswers = new Array(quizzes[quizId].questions.length).fill(null);
            quizStarted = true;
            
            // Update UI
            quizTitle.textContent = `Section ${quizId === 1 ? 'A' : quizId === 2 ? 'B' : 'C'}: ${quizzes[quizId].title}`;
            quizSelector.style.display = 'none';
            quizContainer.style.display = 'block';
            resultContainer.style.display = 'none';
            
            // Show first question
            showQuestion();
        }

        // Display the current question
        function showQuestion() {
            const quiz = quizzes[currentQuiz];
            const question = quiz.questions[currentQuestion];
            
            // Update question info
            questionNumber.textContent = `Question ${currentQuestion + 1} of ${quiz.questions.length}`;
            questionYear.textContent = question.year;
            questionText.textContent = question.text;
            
            // Update explanation/passage text
            if (question.explanation && question.explanation.length < 100) {
                passageText.style.display = 'block';
                passageText.textContent = question.explanation;
            } else {
                passageText.style.display = 'none';
            }
            
            // Update table if present
            if (question.table) {
                questionTable.innerHTML = question.table;
                questionTable.style.display = 'block';
            } else {
                questionTable.innerHTML = '';
                questionTable.style.display = 'none';
            }
            
            // Update progress bar
            const progress = ((currentQuestion + 1) / quiz.questions.length) * 100;
            progressBar.style.width = `${progress}%`;
            
            // Clear previous options
            optionsContainer.innerHTML = '';
            
            // Create new options
            question.options.forEach((option, index) => {
                const optionElement = document.createElement('div');
                optionElement.className = 'option';
                
                // Check if this option was previously selected
                if (userAnswers[currentQuestion] === index) {
                    optionElement.classList.add('selected');
                }
                
                optionElement.innerHTML = `
                    <div class="option-label">${String.fromCharCode(65 + index)}</div>
                    <div class="option-text">${option}</div>
                `;
                
                optionElement.addEventListener('click', () => selectOption(index));
                optionsContainer.appendChild(optionElement);
            });
            
            // Update button states
            prevBtn.disabled = currentQuestion === 0;
            nextBtn.style.display = currentQuestion < quiz.questions.length - 1 ? 'inline-block' : 'none';
            submitBtn.style.display = currentQuestion === quiz.questions.length - 1 ? 'inline-block' : 'none';
        }

        // Select an option for the current question
        function selectOption(optionIndex) {
            // Remove selected class from all options
            document.querySelectorAll('.option').forEach(option => {
                option.classList.remove('selected');
            });
            
            // Add selected class to clicked option
            document.querySelectorAll('.option')[optionIndex].classList.add('selected');
            
            // Save user's answer
            userAnswers[currentQuestion] = optionIndex;
        }

        // Show previous question
        function showPreviousQuestion() {
            if (currentQuestion > 0) {
                currentQuestion--;
                showQuestion();
            }
        }

        // Show next question
        function showNextQuestion() {
            const quiz = quizzes[currentQuiz];
            if (currentQuestion < quiz.questions.length - 1) {
                currentQuestion++;
                showQuestion();
            }
        }

        // Submit the quiz and show results
        function submitQuiz() {
            const quiz = quizzes[currentQuiz];
            let correctAnswers = 0;
            let topicPerformance = {};
            
            // Calculate results
            quiz.questions.forEach((question, index) => {
                if (userAnswers[index] === question.correct) {
                    correctAnswers++;
                    
                    // Track performance by topic
                    if (!topicPerformance[question.topic]) {
                        topicPerformance[question.topic] = { correct: 0, total: 0 };
                    }
                    topicPerformance[question.topic].correct++;
                }
                
                // Initialize topic tracking if not done
                if (!topicPerformance[question.topic]) {
                    topicPerformance[question.topic] = { correct: 0, total: 0 };
                }
                topicPerformance[question.topic].total++;
            });
            
            // Calculate percentage score
            const scorePercentage = Math.round((correctAnswers / quiz.questions.length) * 100);
            
            // Determine strengths and weaknesses
            const strengths = [];
            const weaknesses = [];
            
            for (const [topic, data] of Object.entries(topicPerformance)) {
                const topicScore = Math.round((data.correct / data.total) * 100);
                if (topicScore >= 70) {
                    strengths.push({ topic, score: topicScore });
                } else {
                    weaknesses.push({ topic, score: topicScore });
                }
            }
            
            // Sort strengths and weaknesses by score
            strengths.sort((a, b) => b.score - a.score);
            weaknesses.sort((a, b) => a.score - b.score);
            
            // Update result UI
            resultTitle.textContent = `Results: ${quizzes[currentQuiz].title}`;
            scoreValue.textContent = `${scorePercentage}%`;
            
            // Clear previous lists
            strengthsList.innerHTML = '';
            weaknessesList.innerHTML = '';
            
            // Add strengths
            strengths.forEach(item => {
                const li = document.createElement('li');
                li.innerHTML = `<span>${item.topic}</span><span class="topic-score">${item.score}%</span>`;
                strengthsList.appendChild(li);
            });
            
            // Add weaknesses
            weaknesses.forEach(item => {
                const li = document.createElement('li');
                li.innerHTML = `<span>${item.topic}</span><span class="topic-score">${item.score}%</span>`;
                weaknessesList.appendChild(li);
            });
            
            // Generate feedback
            generateFeedback(quiz);
            
            // Show results
            quizContainer.style.display = 'none';
            resultContainer.style.display = 'block';
        }

        // Generate detailed feedback for each question
        function generateFeedback(quiz) {
            feedbackContainer.innerHTML = '<h3 class="feedback-title">Question Feedback</h3>';
            
            quiz.questions.forEach((question, index) => {
                const userAnswer = userAnswers[index];
                const isCorrect = userAnswer === question.correct;
                
                const feedbackItem = document.createElement('div');
                feedbackItem.className = 'feedback-item';
                
                let answerStatus = '';
                if (userAnswer === null) {
                    answerStatus = '<span class="feedback-incorrect">Not answered</span>';
                } else if (isCorrect) {
                    answerStatus = '<span class="feedback-correct">Correct</span>';
                } else {
                    answerStatus = '<span class="feedback-incorrect">Incorrect</span>';
                }
                
                feedbackItem.innerHTML = `
                    <div class="feedback-question">${index + 1}. ${question.text}</div>
                    <div class="feedback-answer">Your answer: ${userAnswer !== null ? question.options[userAnswer] : 'No answer'} ${answerStatus}</div>
                    <div class="feedback-answer">Correct answer: ${question.options[question.correct]}</div>
                    <div class="feedback-answer">Explanation: ${question.explanation}</div>
                    <div class="feedback-answer"><strong>Topic:</strong> ${question.topic}</div>
                `;
                
                feedbackContainer.appendChild(feedbackItem);
            });
        }

        // Return to the main menu
        function returnToMenu() {
            quizSelector.style.display = 'grid';
            quizContainer.style.display = 'none';
            resultContainer.style.display = 'none';
            quizStarted = false;
        }

        // Initialize the app when the page loads
        window.addEventListener('DOMContentLoaded', initApp);
    </script>
</body>
</html>